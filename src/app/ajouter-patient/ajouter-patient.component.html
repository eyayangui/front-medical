<div mat-dialog-title>
  <h3>Nouveau Patient</h3>
</div>
<form [formGroup]="patientForm" (ngSubmit)="registerUser()">
  <div mat-dialog-content class="content">
      <div class="row">
          <mat-form-field appearance="outline">
              <mat-label>prénom</mat-label>
              <input matInput type="text" placeholder="Prénom" formControlName="firstName" required
              [(ngModel)]="registerRequest.firstname">
          </mat-form-field>
          <mat-form-field appearance="outline">
              <mat-label>nom</mat-label>
              <input matInput placeholder="nom" formControlName="lastName" required
              [(ngModel)]="registerRequest.lastname">
          </mat-form-field>
      </div>

      <div class="row">
        <mat-form-field class="example-full-width">
          <mat-label>CIN</mat-label>
          <input matInput #postalCode maxlength="8" placeholder="cin" type="number" formControlName="cin"
          required [(ngModel)]="registerRequest.cin">
          <mat-hint align="end">{{postalCode.value.length}} / 8</mat-hint>
        </mat-form-field>
        <mat-form-field class="example-full-width">
          <mat-label>Telephone</mat-label>
          <span matPrefix>+216 &nbsp;</span>
          <input type="tel" matInput placeholder="92-555-123" formControlName="tel" required
          [(ngModel)]="registerRequest.phoneNumber">
          <mat-icon matSuffix>mode_edit</mat-icon>
        </mat-form-field>
    </div>

      <div class="row">
          <mat-form-field appearance="outline">
              <mat-label>Email</mat-label>
              <input matInput type="email" placeholder="Ex. test@gmail.com" formControlName="email"
              [(ngModel)]="registerRequest.email">
          </mat-form-field>
          <mat-form-field appearance="outline">
              <mat-label>date de naissance</mat-label>
              <input matInput [matDatepicker]="picker" formControlName="dob"
              [(ngModel)]="registerRequest.birthDate">
              <mat-hint>MM/DD/YYYY</mat-hint>
              <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
              <mat-datepicker #picker></mat-datepicker>
          </mat-form-field>
      </div>

      <div class="row">
          <mat-radio-group aria-label="Select an option" formControlName="gender"
          [(ngModel)]="registerRequest.gender">
              <mat-label><b>sexe</b></mat-label>
              <mat-radio-button value="male">Homme</mat-radio-button>
              <mat-radio-button value="female">Femme</mat-radio-button>
          </mat-radio-group>
      </div>
      <div class="row">
        <mat-form-field class="example-full-width">
          <mat-label>Address</mat-label>
          <textarea matInput placeholder="Ex. 100 Main St" formControlName="adress"
          [(ngModel)]="registerRequest.adress"></textarea>
        </mat-form-field>
      </div>

      <div class="row">
      <mat-form-field>
        <mat-label>Enter your password</mat-label>
        <input matInput [type]="hide ? 'password' : 'text'" formControlName="password" required
        [(ngModel)]="registerRequest.password">
        <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
          <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
        </button>
      </mat-form-field>
      </div>

      <div class="row">
        <mat-form-field appearance="outline">
            <mat-label>Situation familiale</mat-label>
            <input matInput type="text" placeholder="Situation familiale" formControlName="familySituation" required
            [(ngModel)]="registerRequest.familySituation">
        </mat-form-field>
        <mat-form-field appearance="outline">
            <mat-label>antécédents medicaux</mat-label>
            <input matInput placeholder="antécédents medicaux" formControlName="medicalBackgroung" required
            [(ngModel)]="registerRequest.medicalBackgroung">
        </mat-form-field>
    </div>


  </div>
  <div mat-dialog-actions class="action">
      <button mat-raised-button type="button" color="primary" type="submit" >Ajouter</button>
      <button mat-raised-button type="button" [mat-dialog-close]="false">Annuler</button>
  </div>
</form>
